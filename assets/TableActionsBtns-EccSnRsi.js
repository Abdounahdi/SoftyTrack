import{j as e,r as p,P as w,Q as j,V as h}from"./index-CDhlj9kq.js";import{F as N,P as y}from"./Table-CcLuOlvt.js";import{M as x,R as C}from"./PageHeading-BKYRkzCV.js";import{I as k}from"./index-C4Z5HNMT.js";function D({data:o,columns:n,rowSelection:l,xScroll:c,totalData:r,handlePagination:i,currentPage:d,pageSize:a,itemRender:s,isLoading:u}){return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"",children:e.jsx(N,{className:"table_antd table",pagination:!1,dataSource:o,columns:n,rowSelection:{type:"checkbox",fixed:!0,...l},scroll:{x:c},loading:u,rowKey:"id"})}),e.jsx(y,{total:r,showSizeChanger:!0,onChange:i,pageSizeOptions:["5","10","20"],current:d,pageSize:a,itemRender:s})]})}function P({deleteAction:o,id:n,defaultValue:l="hello",modalTitle:c,isLoading:r,updateAction:i}){const{confirm:d}=x,[a,s]=p.useState(""),[u,m]=p.useState(!1),_=()=>{d({title:"Are you sure about deleting this item?",icon:e.jsx(C,{}),content:"Do you really want to delete this record ? This action cannot be undone  ",okText:"Yes",okType:"danger",cancelText:"No",closable:!0,centered:!0,async onOk(){const{error:t}=await o(n);t!=null&&t.message?(console.log(t==null?void 0:t.message),h.error("Deleting failed !")):h.success("Deleted succesfully ! ")},onCancel(){console.log("Cancel")}})},f=()=>{m(!0)},b=async()=>{await i({id:n,newName:a}),m(!1)},g=()=>{m(!1)};return p.useEffect(()=>{s(l)},[]),e.jsxs("div",{className:"table_btns_box",children:[e.jsx("button",{className:"table_row_action_btn update_row_btn",onClick:f,children:e.jsx(w,{})}),e.jsx("button",{className:"table_row_action_btn delete_row_btn",onClick:_,children:e.jsx(j,{})}),e.jsx(x,{title:c,open:u,onOk:b,onCancel:g,centered:!0,footer:[e.jsx("button",{className:"table_row_action_btn update_modal_btn",onClick:b,disabled:r,children:"update"})],children:e.jsxs("div",{className:"updating_row_form",children:[e.jsx(k,{type:"text",placeholder:"enter new name ... ",name:"newName",value:a,onChange:t=>s(t.target.value),status:a.length===0?"error":""}),a.length===0?e.jsx("p",{className:"modal_update_error_msg",children:"Updated Name cannot be empty !"}):""]})})]})}export{D as T,P as a};
