import{b as x,p as T,q as f,j as e,s as _,t as w,v as m,w as A,x as y,r as h,y as N,z as S,A as L,B as k,C as I}from"./index-G1bMk4i-.js";import{P as v}from"./PageActionLayout-DToYMNOa.js";import{T as P}from"./TableOuterActions-BNMJrKbU.js";import{T as O,a as R}from"./TableActionsBtns-BOqXms9g.js";import{M as U}from"./PageHeading-CfkJVI-2.js";import{I as M}from"./index-ZkVQgXEW.js";import"./Table-BducaZyD.js";import"./Input-Bx2-HF2Y.js";function D(){const a=x(),[s]=T({}),{showColumnsOptions:i,selectedRows:r}=f(d=>d.trainingsUi),t=w,l=()=>{console.log("no columns to be hided")},o=()=>{a(m())},c={left:["search","delete"],right:["create"]};return e.jsx(P,{deleteAction:s,resetSelectedRows:t,handleShowColumns:l,showColumnsOptions:i,selectedRows:r,actionsOptions:c,createAction:o,where:"training",onSearch:_})}const E=(a,s,i)=>s==="prev"?e.jsxs("p",{className:"pagination_text",children:[" ",e.jsx(N,{}),e.jsx("span",{children:"Previous"})]}):s==="next"?e.jsxs("p",{className:"pagination_text",children:[" ",e.jsx(S,{}),e.jsx("span",{children:"Next"})]}):i;function B(){const a=x(),{currentPage:s,pageSize:i,searchQuery:r}=f(n=>n.trainingsUi),{data:t,isLoading:l}=A({currentPage:s,pageSize:i,searchQuery:r}),[o]=T({}),[c,{isLoading:d}]=y({}),p=(t==null?void 0:t.data)||[];h.useEffect(()=>{a(_(""))},[]);const u=[{title:"Id",dataIndex:"id",key:"id",fixed:"left",width:50},{title:"Training",dataIndex:"training",key:"training",width:250,align:"left"},{title:"Date Created",dataIndex:"created_at",key:"created_at",render:n=>new Intl.DateTimeFormat("en-CA").format(new Date(n))},{title:"Actions",key:"actions",width:140,render:n=>e.jsx(R,{id:n.id,deleteAction:o,modalTitle:"Update training : ",defaultValue:n.training,isLoading:d,updateAction:c}),align:"center"}],j=t==null?void 0:t.count,C={onChange:(n,g)=>{a(w(g))},getCheckboxProps:n=>({disabled:n.name==="Disabled User",name:n.name})},b=(n,g)=>{a(L(n)),g&&a(k(g))};return e.jsx("div",{className:"table_container training_table",children:e.jsx(O,{totalData:j,handlePagination:b,currentPage:s,pageSize:i,itemRender:E,columns:u,rowSelection:C,data:p,isLoading:l})})}function F(){const{createFormIsOpen:a}=f(u=>u.trainingsUi),[s,{isLoading:i}]=I({}),r=x(),[t,l]=h.useState(""),[o,c]=h.useState(!1),d=()=>{t.length===0?(c(!0),setTimeout(()=>{c(!1)},2e3)):(s(t),setTimeout(()=>{r(m())},500))},p=()=>{r(m())};return e.jsx("div",{className:`drop_down_create_update_form ${a?"fade_in":"fade_out"}`,children:e.jsx(U,{title:"Create Training",open:a,onOk:d,onCancel:p,centered:!0,footer:[e.jsx("button",{className:"table_row_action_btn update_modal_btn create_btn_modal",onClick:d,disabled:i,children:i?"Creating ... ":"Create"})],children:e.jsxs("div",{className:"updating_row_form",children:[e.jsx(M,{type:"text",placeholder:"enter new name ... ",name:"newName",value:t,onChange:u=>l(u.target.value),status:o?"error":""}),o?e.jsx("p",{className:`modal_update_error_msg ${o?"fade_in":"fade_out"}`,children:"New Training cannot be empty !"}):""]})})})}function J(){return e.jsxs(v,{title:"Trainings",goBack:!0,children:[e.jsx(D,{}),e.jsx(F,{}),e.jsx(B,{})]})}export{J as default};
